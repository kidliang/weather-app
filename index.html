<!DOCTYPE html>

<html>
	<head>
		<title></title>

		<script type="text/javascript" src="js/angular.min.js"></script>

		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/main.css">

		<script type="text/javascript" src="js/weather-app/app.js"></script>
		<script type="text/javascript" src="js/weather-app/controllers/mainController.js"></script>
	</head>

	<body>
		<main class="container main-frame" ng-app="WeatherApp" ng-controller="mainController" ng-init="init()">
			<div class="page-header">
				<h1>AngularJS WeatherApp</h1>
			</div>

			<!-- search form -->
			<form class="form-inline" ng-submit="submit()">
				<input type="text" class="form-control input-lg" placeholder="Enter town or city" ng-model="loc">
			</form>	

			<!-- loader image -->
			<div ng-show="loader == 1" class="loader"><img src="img/ajax-loader.gif" alt=" "></div>

			<!-- weather report --->
			<article ng-show="status == 200">
				<h2>
					{{data.name}}, {{data.sys.country}}
					<img ng-src="{{img}}" alt=" " class="pull-right">
				</h2>
				
				<table class="table table-striped">
					<tbody>
						<tr>
							<th>Weather</th>
							<td>{{data.weather[0]['main']}}</td>
						</tr>	
						<tr>
							<th>Sunrise</th>
							<td>{{data.sys.sunrise | customTimeFilter}}</td>
						</tr>
						<tr>
							<th>Sunset</th>
							<td>{{data.sys.sunset | customTimeFilter}}</td>
						</tr>				
						<tr>
							<th>Temperature</th>
							<td>{{data.main.temp | kelvinToCelsius | number:2}}&deg;C</td>
						</tr>
						<tr>
							<th>Humidity</th>
							<td>{{data.main.humidity}}%</td>
						</tr>
						<tr>
							<th>Wind</th>
							<td>{{data.wind.speed}}mps</td>
						</tr>
					</tbody>
				</table>
			</article>
			
			<!-- error message --->
			<article ng-show="status == 0">
				<div class="alert alert-danger">{{data}}</div>
			</article>
			
			<!-- ajax response -->
			<!--<pre ng-show="data">{{data}}</pre>-->
		</main>
	</body>
</html>